# 机器狗步态（基础篇） 

**静态系统与动态系统**

>- 静态系统：从一个稳定状态变到到另一个稳定状态，在状态变换过程使系统运动。（步行）
>
>- 动态系统：系统处于动态平衡状态，如果系统一直处于此动态变化中系统一直会保持稳定，但进入此状态和退出此状态也需要另外的程序控制（跑步）  
>可以想象下我们实际生活，如果你在走路中突然停下，你不会摔倒，因为你一直处于静态稳定状态；但是你如果在跑步的时候突然四肢不受控制直接保持不动，没有刹车动作（退出此状态程序），那你就会摔倒（不稳定状态）。
>
>- 静态系统历史：
>

![](/pic/ch7/7.4.1/1.png)



**基础概念**

------



>- ZMP（零力矩点）
>
>“零力矩点”是判定仿人机器人动态稳定运动的重要指标，ZMP落在脚掌的范围里面，则机器人可以稳定的行走。（百度百科）  
>PS：ZMP是在地面上的负荷点

![](/pic/ch7/7.4.1/2.png)

>-  四足行走
>
>一般四肢动物的行是有一定的规律的，将左前脚和右后脚分成一组称左组，右前脚和左后脚分成一组称右组，两组脚就像一个两驱发动机，轮流为整个身体产生向前的动力。那么我们可以将四足行走分成左组做功和右组做功两部分，且这两部分做功的过程是一样的。
>

![](/pic/ch7/7.4.1/3.png)

>- 步态平面表示
>
>假设将四足在地面上的落脚点分别设为①、②、③、④，边框为虚线则表示脚没有落地。ZMP为PZMP点，框选区域为落脚点围成的面积，称受力框。
>
>如图：
>

![](/pic/ch7/7.4.1/4.png)

>- 稳定判定
>
> 当PZMP点落在受力框内，则系统是平稳的。因为PZMP是一个负荷点，表示的是系统合力力矩指向地面的点，平衡这个力矩靠的是地面的反作用力，当PZMP位与受力框内时，就代表着系统可以为这个力矩提供反作用力达到平衡。



**步态分析（步行状态）**

------



>步行状态我们看成是一个静态系统，他时刻都要处于稳定状态。如果按照我们前面分析的一样，在移动中总是保持两足落地，于此同时我们还要系统一直处于稳定状态下，PZMP点范围必须处于框内，但在实际运动中PZMP点的位置变化是很不稳定的，会在一定范围内波动（取决于动作和姿态），因此很容易使系统不稳定。有两种方式可以解决此问题：
>
> 1. 对PZMP点
>
>    我们可以通过增加受力框的面积来使系统更容易稳定，当受力框的面积可以覆盖住PZMP点的波动范围时，系统也可以保持稳定。
>
>    通过上面分析，明显是后者跟简单，下面我们来分析如何增加框的面积。
>
> 2. 对受力框
>
>    我们可以通过增加受力框的面积来使系统更容易稳定，当受力框的面积可以覆盖住PZMP点的波动范围时，系统也可以保持稳定。
>
>    通过上面分析，明显是后者跟简单，下面我们来分析如何增加框的面积。

**增加受力框方式**

>
>- 增加框面积
>
>  增加受力框面积方式有两种：
>
>  - 增加脚掌面积：
>
>    对此我们可以用蹄类动物（马）和掌类动物做比较（虎）。在实际环境中马在步行时是3脚着地（后面讨论），而老虎是2脚着地，着就由于老虎属于掌类动物，它们有着面积较大的脚掌，可以通过增加宽度来增加受力框面积。
>
>  - 增加落地脚数量：
>
>    要增加落地脚的数量，对四足生物来讲从双足落地增加就只能改为三足落地（四足落地你走给我看看）。下面我们重点讨论三足落地。

 **三足落地 **
>
>  四足生物就4只脚，我们要时刻保持稳定状态地行走，就要在原来基础上借来一只脚来保持平衡，找谁借？隔壁组！之前我们将四足分成左组和右组，他们轮流对系统做工，那也就说明每组的运行状态分为了做功状态和准备状态。组在做功状态我们肯定是不能动的，别人在干活怎么借你用？也就是说做功状态小组（2足）向准备状态小组借1足，达到3足落地。
>
>  对于做功状态与准备状态划分：
>

![](/pic/ch7/7.4.1/5.png)

>  怎么借：
>
>  首先我们要清楚，是做功状态小组向准备状态小组借。但是我们可以看上图很明显，做功状态双脚落地，准备状态双脚离地，我们借的过程是让已经抬起的脚重放下？当然不是。（你可以想象下猫走路时双脚抬起其中一只脚又重新放回原来位置的动作）。我们要知道准备状态的前时做功状态是着地的，也就是说我们进入准备状态的小组可以延缓一只脚抬起的时间等同小组的另一只脚着地后再抬起。也就是将准备状态分段，分成前段（1离1着）、后段（1着1离）
>
>  如图：（右组做功，左组准备）
>

![](/pic/ch7/7.4.1/6.png)

>  总结：到现在我们将四足运动过程分成了做功状态，准备前段，准备后段，我们已经可以初

**实际上的三足稳定步态**
>
>  我们将准备过程分成了2段，我们细想前腿在抬腿时后腿不抬，那后腿这时候是在磨洋工？当然不是动物实际在运动的时候不会出现一只脚不动的情况，在运动过程是一个十分流畅的过程，也就是说在脚掌没离地的时候，那腿一直在为运动做功如下图： 
>

![](/pic/ch7/7.4.1/7.png)

>  对比之前，做功的时间从1/2提高到了3/4，效率提高。
>
>  我们在上面都没有提到腰和头在行走中的作用，腰在行走、跑步中的作用很大的（你可以扶着腰走两步或跑两步），相对于腰，头的作用并不大，更多的是起平衡作用，最典型的就是鸡，我们人走路的时候有手臂来做平衡，但是鸡走路的时候不会拍翅膀，但它们仍可以保持平衡，靠的就是头在不停的一上一下，还有狗也是：
>
>  头部会上下略有点动，一般是在跨出的前脚即将落地时，头开始朝下点动，前脚伸直时头朝上。
>

![](/pic/ch7/7.4.1/8.png)

>  腰部动作：
>
>  走步时由于腿关节的屈伸运动，身体稍有高低起伏。从俯视角度看，肩部线和臀部线成交替向前的状态，身体也随之扭动。从下图可以比较清楚的看出，当迈左脚时腰部向右转，同样的迈右脚的时候腰向左转。
>

![](/pic/ch7/7.4.1/9.png)

>  PS：上图的狗是掌类动物，主要是参考他的头和腰的动作，不必过多关注脚。



学习资料：

------



>- [四足机器人历史](https://zhuanlan.zhihu.com/p/64307902?utm_source=wechat_session&utm_medium=social&utm_oi=1018782322031820800&from=singlemessage) 
>
>- [四足机器人步态](https://zhuanlan.zhihu.com/p/68664688?utm_source=wechat_session&utm_medium=social&utm_oi=1018782322031820800&from=singlemessage)
>
>- [爬行步态算法](https://zhuanlan.zhihu.com/p/71542169?utm_source=wechat_session&utm_medium=social&utm_oi=1018782322031820800&from=singlemessage)
